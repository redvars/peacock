---
interface Props {
  lang: any;
  alignStart?: boolean
}

const { lang, alignStart } = Astro.props;

let html = '';
if (Astro.slots.has('default')) {
  html = await Astro.slots.render('default');
  html = html.replaceAll('<', '&lt;');
  html = html.replaceAll('<script>', '&lt;script&gt;').replaceAll('</script>', '&lt;/script&gt;');
}
let cssClasses = '';
if (alignStart) {
  cssClasses = 'align-start';
}
---
<style>
  .demo-component-card {
    .demo-area {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 10rem;
      gap: var(--spacing-200);
      background: var(--color-surface);
    }
    .demo-area.align-start {
      flex-direction: column;
      align-items: flex-start;
      gap: 0;
    }
    .body {
      padding: 0;
    }
    .demo-area .full-width {
      width: 100%;
    }
  }
</style>
<pc-card class='demo-component-card'>
  <pc-card-content class={'demo-area ' + cssClasses}>
    <slot></slot>
  </pc-card-content>
  <pc-card-content class='body'>
    <goat-code-highlighter language={lang}>
      <pre><code><Fragment set:html={html} /></code></pre>
    </goat-code-highlighter>
  </pc-card-content>
</pc-card>
