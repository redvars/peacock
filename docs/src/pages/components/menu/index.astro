---
import Layout from '../../../layouts/Component.astro';
import { getComponentDetails } from '../../../_data/getComponentDetails.ts';
import ApiPanel from '../../../components/ApiPanel.astro';
import OverviewPanel from '../../../components/OverviewPanel.astro';
const componentDetails = getComponentDetails('menu');

import UsageSection from './_sections/usage.astro';
import SlotsSection from './_sections/slots.astro';
import EventsSection from './_sections/events.astro';

const sections = [
  {
    'title': 'Usage',
    'Component': UsageSection,
  }, {
    'title': 'Slots',
    'Component': SlotsSection,
  }, {
    'title': 'Events',
    'Component': EventsSection,
  }];
---
<Layout componentDetails={componentDetails}>
  <pc-tabs class='page-tabs'>
    <pc-tabs-list>
      <pc-tab selected='true'>Overview</pc-tab>
      <pc-tab>API</pc-tab>
    </pc-tabs-list>
    <pc-tab-panel>
      <OverviewPanel  sections={sections} />
    </pc-tab-panel>
    <pc-tab-panel>
      <ApiPanel componentDetails={componentDetails} />
    </pc-tab-panel>
  </pc-tabs>
</Layout>

<script is:inline>
  const $lists = document.querySelectorAll('.menu');
  $lists.forEach($list => {
    $list.addEventListener('pc-menu-item--click', function (event) {
      myConsole.log(JSON.stringify(event.detail.value, null, 4), event.type);
    });
  });
</script>
