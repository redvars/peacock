@import "../../globalStyles/commons";

/**
 * @prop --pc-button-color: Button filling color.
 * @prop --pc-button-color-light: Button filling color for light variant.
 * @prop --pc-button-color-hover: Button filling color on hover.
 * @prop --pc-button-color-active: Button filling color on active.
 * @prop --pc-button-support-contrast-color: Button support color (text or border). Should be white or black based on weight of button filling color.
 */
:host {
  display: inline-flex;

  --pc-button-border-width: var(--goat-theme-button-border-width);

  /**
   * @prop --pc-button-border-radius: Button border radius.
   * @prop --goat-theme-button-border-radius: Theme level button border radius. (applies to all buttons)
   */
  --pc-button-border-radius: var(--goat-theme-button-border-radius, var(--border-radius));

  /**
   * @prop --pc-button-border-style: Button border style.
   * @prop --goat-theme-button-border-style: Theme level button border style. (applies to all buttons)
   */
  --pc-button-border-style: var(--goat-theme-button-border-style, solid);

  /**
    * @prop --pc-button-padding: Button padding.
   */
  --pc-button-padding: unset;

  --button-height: unset;
  --button-icon-size: unset;
  --button-container-shape: unset;

  --filled-button-container-color: var(--color-primary);
  --filled-button-label-text-color: var(--color-on-primary);

  --tonal-button-container-color: var(--color-secondary-container);
  --tonal-button-label-text-color: var(--color-on-secondary-container);

  --elevated-button-container-color: var(--color-surface-container-low);
  --elevated-button-label-text-color: var(--color-primary);
}

/**
  * Private CSS Variables
  * These variables are used internally within the button component
  */
.button {
  --_container-padding: 0.0625rem;
}

slot::slotted(*) {
  --icon-size: var(--button-icon-size, var(--_button-icon-size));
}

/*
border-width: var(--pc-button-border-width, var(--internal-button-border-width, 0.125rem));
border-style: var(--pc-button-border-style);
border-color: transparent;




border-radius: var(--pc-button-border-radius);
border: var(--internal-button-inner-padding) solid transparent;

*/


.button {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: var(--button-height, var(--_button-height));

  --internal-button-inner-padding: 0.0625rem;

  /*
   * Reset native button/link styles
   */
  .native-button {
    background: transparent;
    border: none;
    appearance: none;
    margin: 0;
    outline: none;
  }
  .native-link {
    text-decoration: none;
  }

  .native-element {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--__container-gap, var(--spacing-200));
    z-index: var(--z-index-button);
    height: 100%;
    width: 100%;
    cursor: pointer;
    color: var(--__label-text-color);
    --icon-color: var(--__label-text-color);
    padding: 0 var(--_container-padding);

    font-family: var(--font-family-sans), sans-serif;
    font-size: 0.875rem;
    font-weight: var(--font-weight-medium);
    line-height: 1.25rem;
    letter-spacing: 0.1px

  }

  &.disabled .native-element {
    cursor: not-allowed;
  }

  /*.native-button {

    width: 100%;


    --icon-size: var(--button-icon-size);


    padding: 0 calc(var(--pc-button-padding, var(--internal-button-padding, 1rem)) - var(--internal-button-inner-padding));


    .slot-container {
      display: none;
    }
  }

  &.has-focus:not(.active) .native-button {
    .button-content {
      border-color: var(--color-light);
    }
  }*/


  .background {
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: var(--__container-color);

    border-start-start-radius: var(--_container-shape-start-start);
    border-start-end-radius: var(--_container-shape-start-end);
    border-end-start-radius: var(--_container-shape-end-start);
    border-end-end-radius: var(--_container-shape-end-end);


    pointer-events: none;
  }

  .state-background {
    position: absolute;
  }

  .state-background:before {
    content: "";
    pointer-events: none;
    position: absolute;

    opacity: var(--__container-state-opacity, 0);

    background-color: #ffffff;
    inset: 0;
    transition: opacity 15ms linear, background-color 15ms linear;
  }
  .state-background:after {
    content: "";
    opacity: 0;
    position: absolute;

    background: radial-gradient(closest-side, var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20)) max(100% - 70px, 65%), transparent 100%);
    transform-origin: center center;
    transition: opacity 375ms linear;
  }

  .elevation {
    --elevation-level: var(--_container-elevation-level);
    transition-duration: 280ms;
    border-start-start-radius: var(--_container-shape-start-start);
    border-start-end-radius: var(--_container-shape-start-end);
    border-end-start-radius: var(--_container-shape-end-start);
    border-end-end-radius: var(--_container-shape-end-end);
  }

  .neo-background {
    display: none;
    position: absolute;
  }

  .outline {
    display: none;
    position: absolute;
    width: 100%;
    height: 100%;
    border: var(--_outline-width) solid var(--_outline-color);
    border-start-start-radius: var(--_container-shape-start-start);
    border-start-end-radius: var(--_container-shape-start-end);
    border-end-start-radius: var(--_container-shape-end-start);
    border-end-end-radius: var(--_container-shape-end-end);
  }





  /*
 &.has-content {
   .slot-container {
     display: flex;
     flex: none;
     justify-content: center;
   }
 }

 &.has-content.has-icon {
   .button-content {
     gap: var(--internal-button-gap, 2rem);
   }

   .slot-container {
     padding-right: 0;
   }
 }*/
}


/*
.button.variant-carbon {
  .button-content {
    justify-content: start;
  }

  &.has-content .slot-container {
    padding-right: 2rem;
    flex: 1;
    flex: none;
    justify-content: start;
  }
}
*/

@import "./_button-sizes";


/**
 * Button variant definitions
 */
.button.variant-filled {

  --_container-shape-start-start: var(--filled-button-container-shape-start-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-start-end: var(--filled-button-container-shape-start-end, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-start: var(--filled-button-container-shape-end-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-end: var(--filled-button-container-shape-end-end, var(--button-container-shape, var(--global-shape-corner-small)));
  --__container-color: var(--filled-button-container-color);
  --__label-text-color: var(--filled-button-label-text-color);


  &:hover {
    --_container-elevation-level: 1;
    --__container-state-opacity: 0.08;
  }

  &.active {
    --_container-elevation-level: 0;
    --__container-state-opacity: 0.1;
  }

  /*.native-button {
    color: var(--internal-button-support-contrast-color);
    border-color: var(--filled-button-container-color);
  }

  &.active{

    .native-button {
      border-color: var(--internal-button-color-active);
    }

    .button-container {
      background: var(--internal-button-color-active);
    }
  }

  &.has-focus:not(.active) .native-button {
    .button-content {
      border-color: var(--color-white);
    }

    border-color: var(--internal-button-color-focus, var(--color-primary));
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03);
      border-color: var(--text-disabled) !important;
    }

    .button-container {
      background: var(--text-disabled) !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--color-neutral) !important;
    }
  }*/
}

.button.variant-elevated {

  --_container-shape-start-start: var(--elevated-button-container-shape-start-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-start-end: var(--elevated-button-container-shape-start-end, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-start: var(--elevated-button-container-shape-end-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-end: var(--elevated-button-container-shape-end-end, var(--button-container-shape, var(--global-shape-corner-small)));
  --__container-color: var(--elevated-button-container-color);
  --__label-text-color: var(--elevated-button-label-text-color);
  --_container-elevation-level: 1;

  &:hover {
    --_container-elevation-level: 2;
    --__container-state-opacity: 0.08;
  }
}

.button.variant-tonal {


  --__container-color: var(--tonal-button-container-color);
  --__label-text-color: var(--tonal-button-label-text-color);

  &:hover {
    --_container-elevation-level: 1;
    --__container-state-opacity: 0.08;
  }

  /*.native-button {
    color: var(--internal-button-color);
    border-color: var(--internal-button-color-light);
  }

  .button-container {
    background: var(--internal-button-color-light);
  }

  &:hover {
    .native-button {
      color: var(--internal-button-support-contrast-color);
      border-color: var(--internal-button-color-hover);
    }

    .button-container {
      background: var(--internal-button-color-hover);
    }
  }

  &.active,
  &.selected {
    .native-button {
      color: var(--internal-button-support-contrast-color);
      border-color: var(--internal-button-color-active);
    }

    .button-container {
      background: var(--internal-button-color-active);
    }
  }

  &.has-focus:not(.active) .native-button {
    .button-content {
      border-color: var(--color-white);
    }

    border-color: var(--internal-button-color-focus, var(--color-primary));
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03);
      border-color: var(--text-disabled) !important;
    }

    .button-container {
      background: var(--text-disabled) !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--color-neutral) !important;
    }
  }
   */
}


.button.variant-outlined {

  --_container-shape-start-start: var(--outlined-button-container-shape-start-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-start-end: var(--outlined-button-container-shape-start-end, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-start: var(--outlined-button-container-shape-end-start, var(--button-container-shape, var(--global-shape-corner-small)));
  --_container-shape-end-end: var(--outlined-button-container-shape-end-end, var(--button-container-shape, var(--global-shape-corner-small)));

  --_outline-width: var(--outlined-button-outline-width, 0.125rem);
  --_outline-color: var(--outlined-button-outline-color, var(--color-primary));

  .outline {
    display: block;
  }


  &:hover {
    --__container-state-opacity: 0.08;
  }


}

  /*
  .native-button {
    color: var(--internal-button-color);
    border-color: var(--internal-button-color);
  }

  .button-container {
    background: transparent;
  }

  &:hover {
    .native-button {
      color: var(--internal-button-support-contrast-color);
      border-color: var(--internal-button-color);
    }

    .button-container {
      background: var(--internal-button-color);
    }
  }

  &.active,
  &.selected {
    .native-button {
      color: var(--internal-button-support-contrast-color);
      border-color: var(--internal-button-color-active);
    }

    .button-container {
      background: var(--internal-button-color-active);
    }
  }

  &.has-focus:not(.active) {
    .native-button {
      color: var(--internal-button-support-contrast-color);
      border-color: var(--internal-button-color-focus, var(--color-primary));
    }

    .button-container {
      background: var(--internal-button-color);
    }

    .button-content {
      border-color: var(--color-white);
    }
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03) !important;
      border-color: var(--text-disabled) !important;
    }

    .button-container {
      background: transparent !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--color-neutral) !important;
    }
  }
}*/


.button.variant-text {

  /*--internal-button-gap: .5rem;

  .native-button {
    color: var(--internal-button-color);
    border-color: transparent;
  }

  .button-container {
    background: transparent;
  }

  &:hover {
    .button-container {
      background: var(--background-hover);
    }
  }

  &.active,
  &.selected {
    .native-button {
      color: var(--internal-button-color);
    }

    .button-container {
      background: var(--background-active);
    }
  }

  &.has-focus:not(.active) .native-button {
    border-color: var(--internal-button-color-focus, var(--color-primary));
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03) !important;
      border-color: transparent !important;
    }

    .button-container {
      background: transparent !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--internal-button-color-focus, var(--color-neutral)) !important;
    }
  }*/
}

/*
.button.variant-link {

  --internal-button-padding: 0;

  .native-button {
    color: var(--internal-button-support-contrast-color);
    border-color: transparent;
  }

  .button-container {
    background: transparent;
  }

  &.has-content .slot-container {
    padding-right: 0;
  }

  &.has-focus:not(.active) .native-button {
    border-color: var(--internal-button-color-focus, var(--color-primary));
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03) !important;
      border-color: transparent !important;
    }

    .button-container {
      background: transparent !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--internal-button-color-focus, var(--color-neutral)) !important;
    }
  }
}*/
/*
.button.variant-neo {

  margin-inline-end: .25rem;
  margin-block-end: .25rem;

  .native-button {
    color: var(--color-dark);
    border-color: var(--color-dark);
  }

  .button-neo-background {
    background: var(--color-dark);
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;

    border-radius: var(--pc-button-border-radius);
    pointer-events: none;
    transform: translateX(0.25rem) translateY(0.25rem);
  }

  .button-container {
    background: var(--internal-button-color-neo);
  }

  &:hover {

    .native-button,
    .button-container {
      transform: translateY(-0.125rem);
    }
  }

  &.active {

    .native-button,
    .button-container {
      transform: translateX(0.25rem) translateY(0.25rem);
    }
  }

  &.active,
  &.selected {

    .native-button {
      border-color: var(--color-dark);
    }
  }

  &.has-focus:not(.active) {
    .native-button {
      .button-content {
        border-color: var(--color-light);
      }
    }

    .button-container {
      border: calc(1.5 * var(--internal-button-border-width)) solid var(--color-dark);
    }
  }

  &.disabled {
    .native-button {
      color: var(--disabled-03);
      border-color: var(--text-disabled) !important;
    }

    .button-container {
      background: var(--text-disabled) !important;
    }

    &.has-focus:not(.active) .native-button {
      border-color: var(--color-neutral) !important;
    }
  }
}*/

/**
  * Color Variants
  */
.button.color-primary {
  --__filled-container-color: var(--color-primary);
  --internal-button-color-light: var(--pc-button-color-light, #{var(--color-primary-10)});
  --internal-button-color-neo: var(--pc-button-color-neo, #{var(--color-primary-50)});
  --internal-button-color-hover: var(--pc-button-color-hover, #{var(--color-primary-hover-60)});
  --internal-button-color-active: var(--pc-button-color-active, #{var(--color-primary-80)});
}

.button.color-danger {
  --__container-bg-color: var(--pc-button-color, #{var(--color-error)});
  --internal-button-color-light: var(--pc-button-color-light, #{var(--color-error-10)});
  --internal-button-color-neo: var(--pc-button-color-neo, #{var(--color-error-50)});
  --internal-button-color-hover: var(--pc-button-color-hover, #{var(--color-error-70)});
  --internal-button-color-active: var(--pc-button-color-active, #{var(--color-error-80)});
}

.button.color-white {
  --__container-bg-color: var(--pc-button-color, #{var(--color-white)});
  --internal-button-color-light: var(--pc-button-color-light, #{var(--color-white)});
  --internal-button-color-neo: var(--pc-button-color-neo, #{var(--color-white)});
  --internal-button-color-hover: var(--pc-button-color-hover, #{var(--color-gray-10)});
  --internal-button-color-active: var(--pc-button-color-active, #{var(--color-gray-70)});
}

.button.color-black {
  --__container-bg-color: var(--pc-button-color, #{var(--color-black)});
  --internal-button-color-light: var(--pc-button-color-light, #{var(--color-gray-10)});
  --internal-button-color-neo: var(--pc-button-color-neo, #{var(--color-black)});
  --internal-button-color-hover: var(--pc-button-color-hover, #{var(--color-gray-70)});
  --internal-button-color-active: var(--pc-button-color-active, #{var(--color-gray-90)});
}

.button.color-secondary {
  --__container-bg-color: var(--pc-button-color, #{var(--button-secondary)});
  --internal-button-color-light: var(--pc-button-color-light, #{var(--color-white)});
  --internal-button-color-neo: var(--pc-button-color-neo, #{var(--button-secondary)});
  --internal-button-color-hover: var(--pc-button-color-hover, #{var(--button-secondary-hover)});
  --internal-button-color-active: var(--pc-button-color-active, #{var(--button-secondary-active)});
}
